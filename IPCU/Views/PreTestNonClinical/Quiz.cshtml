@model IPCU.Models.PreTestNonClinical

@{
    ViewData["Title"] = "Pre-Test Non-Clinical Quiz";
}

<!-- Google Forms-Like Styling -->
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f8f9fa;
    }

    .form-container {
        max-width: 700px;
        background: white;
        margin: 40px auto;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
    }

    h2, h4 {
        color: #333;
    }

    .form-label {
        font-weight: 600;
    }

    .form-control, .form-select {
        padding: 10px;
        font-size: 16px;
        border-radius: 8px;
        border: 1px solid #ced4da;
    }

    .form-check-label {
        font-size: 16px;
        margin-left: 5px;
    }

    .form-check-input {
        transform: scale(1.2);
        margin-right: 5px;
    }

    .submit-btn {
        background-color: #4285F4;
        color: white;
        padding: 12px;
        width: 100%;
        border: none;
        font-size: 18px;
        border-radius: 8px;
        transition: 0.3s;
    }

        .submit-btn:hover {
            background-color: #2c6fed;
        }

    .question-box {
        background: #f9f9f9;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 10px;
    }
</style>

<div class="form-container">
    <h2 class="text-center">Pre-Test Non-Clinical Quiz</h2>
    <p class="text-center text-muted">Please fill out all fields before submitting.</p>

    <form asp-action="SubmitQuiz" method="post">

        <!-- Personal Information -->
        <h4 class="mt-4">Personal Information</h4>

        <div class="mb-3">
            <label class="form-label">Full Name:</label>
            <input asp-for="FullName" class="form-control" placeholder="Enter your full name">
            <span asp-validation-for="FullName" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Employee ID:</label>
            <input asp-for="EmployeeId" class="form-control" placeholder="Enter your Employee ID">
            <span asp-validation-for="EmployeeId" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Age Group:</label>
            <select asp-for="AgeGroup" class="form-select">
                <option value="">Select</option>
                <option value="18-25">18-25</option>
                <option value="26-35">26-35</option>
                <option value="36-45">36-45</option>
                <option value="46+">46+</option>
            </select>
            <span asp-validation-for="AgeGroup" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Sex:</label>
            <select asp-for="Sex" class="form-select">
                <option value="">Select</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select>
            <span asp-validation-for="Sex" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">PWD:</label>
            <select asp-for="PWD" class="form-select">
                <option value="">Select</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
            <span asp-validation-for="PWD" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Civil Status:</label>
            <select asp-for="CivilStatus" class="form-select">
                <option value="">Select</option>
                <option value="Single">Single</option>
                <option value="Married">Married</option>
                <option value="Divorced">Divorced</option>
                <option value="Widowed">Widowed</option>
            </select>
            <span asp-validation-for="CivilStatus" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Department:</label>
            <input asp-for="Department" class="form-control" placeholder="Enter your department">
            <span asp-validation-for="Department" class="text-danger"></span>
        </div>

        <hr>

        <!-- Matching Type -->
        <h4 class="mt-4">I. Matching Type</h4>
        <p class="text-muted">Match the hand hygiene indication with the recommended procedure.</p>

        @foreach (var (question, index) in new List<string>
        {
        "After covering cough with hands",
        "After paying/handling money",
        "After sneezing",
        "After an attendance time-in (biometrics)",
        "Before eating",
        "After using the bathroom",
        "Before drinking any medication",
        "After signing documents"
        }.Select((value, i) => (value, i)))
        {
            <div class="question-box">
                <strong>@(index + 1). @question</strong>
                <div class="form-check">
                    <input type="radio" name="selectedAnswers[@index]" value="Hand Washing" class="form-check-input">
                    <label class="form-check-label">Hand Washing</label>
                </div>
                <div class="form-check">
                    <input type="radio" name="selectedAnswers[@index]" value="Hand Rubbing" class="form-check-input">
                    <label class="form-check-label">Hand Rubbing</label>
                </div>
            </div>
        }

        <hr>

        <!-- Multiple Choice -->
        <h4 class="mt-4">II. Multiple Choice</h4>
        <p class="text-muted">Choose the best answer.</p>

        @foreach (var (question, choices, index) in new List<(string, List<string>)>
        {
        ("Where do you put used face masks?", new List<string> { "Black waste bin", "Yellow waste bin", "Green waste bin", "Pockets" }),
        ("Why is mask use still required inside the hospital, even after the COVID-19 pandemic has subsided?", new List<string> { "To protect patients and healthcare workers from respiratory infections, including influenza, tuberculosis, and other airborne diseases", "Because masks are required by law at all times, regardless of the situation", "To prevent hospital staff from speaking too loudly in patient areas", "Only to comply with hospital dress code policies" }),
        ("If a healthcare worker sustained a needle stick injury in the course of her duty, he/she should report within?", new List<string> { "Within the week", "1 hour", "24 hours", "72 hours" }),
        ("Which of the following is the most effective way to prevent the spread of infections?", new List<string> { "Wearing a mask at all times", "Frequent and proper hand hygiene", "Using antibiotics for all patients", "Spraying disinfectant in the air" }),
        ("Alcohol-based hand rubbing should be done for how many seconds to be effective?  ", new List<string> { "5-10 seconds", "10-20 seconds", "20-30 seconds", "30-60 seconds" }),
        ("What is the primary goal of infection prevention and control (IPC) in a healthcare setting?Goal of infection prevention?", new List<string> { "Reduce hospital costs", "Protect only healthcare workers from infections", "Prevent the spread of infections among patients, healthcare workers, and visitors", "Improve hospital ranking" }),
        ("Which of the following best describes the proper use of masks in a healthcare facility such as NKTI?", new List<string> { "Masks should be worn below the nose to allow for comfortable breathing", "Masks should be removed when talking to patients to other healthcare workers", "Masks should fully cover the nose and mouth at all times inside the hospital", "Masks can be reused indefinitely as long as they appear clean" })
        }.Select((q, i) => (q.Item1, q.Item2, i)))
        {
            <div class="question-box">
                <strong>@(index + 1). @question</strong>
                @foreach (var choice in choices)
                {
                    <div class="form-check">
                        <input type="radio" name="multipleChoice[@index]" value="@choice" class="form-check-input">
                        <label class="form-check-label">@choice</label>
                    </div>
                }
            </div>
        }

        <button type="submit" class="submit-btn mt-4">Submit Quiz</button>

    </form>
</div>
