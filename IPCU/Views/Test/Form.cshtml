@model TestFormModel

@{
    ViewData["Title"] = "Pre-Test Information Form";
}

<!-- Page Container -->
<div class="container mt-5">
    <div class="card shadow-lg border-0 p-4" style="max-width: 800px; margin: auto;">
        <h2 class="text-center fw-bold">Pre-Test Information Form</h2>
        <p class="text-center text-muted">Please answer all questions.</p>

        <form asp-controller="Test" asp-action="SubmitForm" method="post" class="mt-3">

            <!-- Personal Information Section -->
            <div class="form-group mb-4">
                <label class="fw-bold">Full Name</label>
                <input type="text" class="form-control" asp-for="FullName" required placeholder="Enter your full name">
            </div>

            <div class="form-group mb-4">
                <label class="fw-bold">Employee ID</label>
                <input type="text" class="form-control" asp-for="EmployeeId" required placeholder="Enter your Employee ID">
            </div>

            <div class="row">
                <div class="col-md-6 form-group mb-4">
                    <label class="fw-bold">Age</label>
                    <select class="form-select" asp-for="AgeGroup">
                        <option value="20 Below">20 Below</option>
                        <option value="21-40">21-40</option>
                        <option value="41-60">41-60</option>
                        <option value="60 Above">60 Above</option>
                    </select>
                </div>

                <div class="col-md-6 form-group mb-4">
                    <label class="fw-bold">Sex</label>
                    <select class="form-select" asp-for="Sex">
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 form-group mb-4">
                    <label class="fw-bold">PWD</label>
                    <select class="form-select" asp-for="PWD">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>

                <div class="col-md-6 form-group mb-4">
                    <label class="fw-bold">Civil Status</label>
                    <select class="form-select" asp-for="CivilStatus">
                        <option value="Single">Single</option>
                        <option value="Married">Married</option>
                        <option value="Widowed">Widowed</option>
                        <option value="Separated/Divorced">Separated/Divorced</option>
                    </select>
                </div>
            </div>

            <div class="form-group mb-4">
                <label class="fw-bold">Department/Unit/Area (Please do not abbreviate)</label>
                <input type="text" class="form-control" asp-for="Department" required placeholder="Enter department/unit">
            </div>

            <!-- Matching Type Section -->
            <h3 class="text-center mt-5 fw-bold text-primary">I. Matching Type</h3>
            <p class="text-center text-muted">Match the hand hygiene indication with the recommended procedure.</p>

            <div class="list-group">
                @foreach (var question in new List<(string, string)>
                {
                ("After covering cough with hands:", "AfterCoveringCough"),
                ("After paying/handling money:", "AfterHandlingMoney"),
                ("After sneezing:", "AfterSneezing"),
                ("After an attendance time-in (biometrics):", "AfterAttendanceTimeIn"),
                ("Before eating:", "BeforeEating"),
                ("After using the bathroom:", "AfterUsingBathroom"),
                ("Before drinking any medication:", "BeforeDrinkingMedication"),
                ("After signing documents:", "AfterSigningDocuments")
                })
                {
                    <div class="card border-light shadow-sm p-3 mb-3">
                        <label class="fw-bold">@question.Item1</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="@question.Item2" value="Hand Washing">
                            <label class="form-check-label">Hand Washing</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="@question.Item2" value="Hand Rubbing">
                            <label class="form-check-label">Hand Rubbing</label>
                        </div>
                    </div>
                }
            </div>

            <!-- Multiple Choice Section -->
            <h3 class="text-center mt-5 fw-bold text-primary">II. Multiple Choice</h3>
            <p class="text-center text-muted">Choose the best answer.</p>

            <div class="list-group">
                @foreach (var mcq in new List<(string, string, List<string>)>
                {
                ("Where do you put used face masks?", "UsedFaceMasks", new List<string> { "Black waste bin", "Yellow waste bin", "Green waste bin", "Pockets" }),
                ("Why is mask use still required inside the hospital, even after the COVID-19 pandemic has subsided?", "MaskUseReason", new List<string> {
                "To protect patients and healthcare workers from respiratory infections, including influenza, tuberculosis, and other airborne diseases",
                "Because masks are required by law at all times, regardless of the situation",
                "To prevent hospital staff from speaking too loudly in patient areas",
                "Only to comply with hospital dress code policies"
                }),
                ("If a healthcare worker sustained a needle stick injury in the course of her duty, he/she should report within?", "NeedleStickReportTime", new List<string> { "Within the week", "1 hour", "24 hours", "72 hours" }),
                ("Which of the following is the most effective way to prevent the spread of infections?", "InfectionPrevention", new List<string> { "Wearing a mask at all times", "Frequent and proper hand hygiene", "Using antibiotics for all patients", "Spraying disinfectant in the air" }),
                ("Alcohol-based hand rubbing should be done for how many seconds to be effective?", "HandRubbingTime", new List<string> { "5-10 seconds", "10-20 seconds", "20-30 seconds", "30-60 seconds" }),
                ("What is the primary goal of infection prevention and control (IPC) in a healthcare setting?", "IPCGoal", new List<string> { "Reduce hospital costs", "Protect only healthcare workers from infections", "Prevent the spread of infections among patients, healthcare workers, and visitors", "Improve hospital ranking" }),
                ("Which of the following best describes the proper use of masks in a healthcare facility?", "ProperMaskUse", new List<string> {
                "Masks should be worn below the nose to allow for comfortable breathing",
                "Masks should be removed when talking to patients or other healthcare workers",
                "Masks should fully cover the nose and mouth at all times inside the hospital",
                "Masks can be reused indefinitely as long as they appear clean"
                })
                })
                {
                    <div class="card border-light shadow-sm p-3 mb-3">
                        <label class="fw-bold">@mcq.Item1</label>
                        @foreach (var option in mcq.Item3)
                        {
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="@mcq.Item2" value="@option">
                                <label class="form-check-label">@option</label>
                            </div>
                        }
                    </div>
                }
            </div>

            <!-- Submit Button -->
            <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary btn-lg px-5">Submit</button>
            </div>

        </form>
    </div>
</div>
