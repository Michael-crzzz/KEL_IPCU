@{
    ViewData["Title"] = "Home Page";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-3 fw-bold text-gradient mb-3">Welcome to IPCU System</h1>
        <p class="lead text-muted">Efficient Management of Employee Forms & Trainings</p>
    </div>

    <div class="row g-4">
        @* Start of cards *@
        @{
            var cards = new List<dynamic>
        {
        new { Title="View Patients", Desc="View all registered patients.", Icon="fas fa-user-injured", Color="primary", Buttons=new[]{ ("Patients", "Patients", "Index", "primary"), ("Masters", "PatientMasters", "Index", "outline-primary") }},
        new { Title="Training Summary", Desc="Summarize assessment reports.", Icon="fas fa-chalkboard-teacher", Color="warning", Buttons=new[]{ ("Summary", "Evaluation", "SummaryReport", "warning text-white"), ("Reports", "TrainingSummary", "Reports", "outline-warning") }},
        new { Title="Hand Hygiene", Desc="Track hygiene compliance.", Icon="fas fa-hands-wash", Color="success", Buttons=new[]{ ("Open Form", "HandHygieneForms", "Index", "success"), ("Summary", "HandHygieneForms", "MonthlySummary", "outline-success") }},
        new { Title="Fit Testing", Desc="Fill or view Fit Testing forms.", Icon="fas fa-mask-face", Color="purple", Buttons=new[]{ ("Open Form", "FitTestingForm", "Index", "purple text-white"), ("Reports", "FitTestingForm", "Reports", "outline-purple") }},
        new { Title="Role Management", Desc="Manage user roles and permissions.", Icon="fas fa-user-shield", Color="danger", Buttons=new[]{ ("Roles", "RoleManagement", "Index", "danger"), ("Users", "RoleManagement", "UserRoles", "outline-danger") }},
        new { Title="User Area Management", Desc="Assign user work areas.", Icon="fas fa-map-marker-alt", Color="teal", Buttons=new[]{ ("Manage Areas", "UserAreaManagement", "Index", "teal"), ("Batch Assign", "UserAreaManagement", "BatchAssignAreas", "outline-teal") }},
        new { Title="ICN Patient Management", Desc="Track ICN patients.", Icon="fas fa-hospital-user", Color="indigo", Buttons=new[]{ ("View Patients", "ICNPatient", "Index", "indigo text-white"), ("Details", "ICNPatient", "Details", "outline-indigo") }},
        new { Title="Notice of Referrals", Desc="View referrals notice.", Icon="fas fa-file-medical", Color="secondary", Buttons=new[]{ ("Index", "NoticeOfReferrals", "Index", "secondary text-white") }},
        new { Title="Environmental", Desc="Environmental.", Icon="fas fa-clipboard-list", Color="orange", Buttons=new[]{ ("Create Forms", "Environmental", "Index", "orange text-white") }},
        };
        }

        @foreach (var card in cards)
        {
            <div class="col-md-6 col-lg-4">
                <div class="card h-100 shadow rounded-4 border-0 hover-card">
                    <div class="card-body text-center p-4">
                        <div class="icon-box mb-3 bg-@card.Color">
                            <i class="@card.Icon fa-2x text-white"></i>
                        </div>
                        <h5 class="fw-bold mb-2">@card.Title</h5>
                        <p class="text-muted small">@card.Desc</p>
                        <div class="d-grid gap-2 mt-3">
                            @foreach (var btn in card.Buttons)
                            {
                                <a asp-controller="@btn.Item2" asp-action="@btn.Item3" class="btn btn-@btn.Item4">@btn.Item1</a>
                            }
                        </div>
                    </div>
                </div>
            </div>
        }

        @* Special ICRA Card *@
        <div class="col-md-6 col-lg-4">
            <div class="card h-100 shadow rounded-4 border-0 hover-card">
                <div class="card-body text-center p-4">
                    <div class="icon-box mb-3 bg-info">
                        <i class="fas fa-tools fa-2x text-white"></i>
                    </div>
                    <h5 class="fw-bold mb-2">ICRA Dashboard</h5>
                    <p class="text-muted small">Manage ICRA activities efficiently.</p>

                    <div class="d-grid gap-2 mt-3">
                        <a asp-controller="ICRAs" asp-action="Index" class="btn btn-info text-white">View ICRA</a>

                        @if (User.IsInRole("Admin") && User.IsInRole("ICN") && User.IsInRole("Engineering"))
                        {
                            <a asp-controller="ICRADashboard" asp-action="AdminICN" class="btn btn-info text-white">Admin/ICN Dashboard</a>
                            <a asp-controller="ICRADashboard" asp-action="Engineering" class="btn btn-info text-white">Engineering Dashboard</a>
                        }
                        else if (User.IsInRole("Engineering"))
                        {
                            <a asp-controller="ICRADashboard" asp-action="Engineering" class="btn btn-info text-white">Engineering Dashboard</a>
                        }
                        else if (User.IsInRole("Admin") || User.IsInRole("ICN"))
                        {
                            <a asp-controller="ICRADashboard" asp-action="AdminICN" class="btn btn-info text-white">Admin/ICN Dashboard</a>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .text-gradient {
        background: linear-gradient(to right, #4facfe, #00f2fe);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .icon-box {
        width: 70px;
        height: 70px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        margin: 0 auto;
    }

    .bg-purple {
        background-color: #6f42c1;
    }

    .btn-purple {
        background-color: #6f42c1;
        color: white;
    }

        .btn-purple:hover {
            background-color: #5a32a3;
        }

    .bg-teal {
        background-color: #20c997;
    }

    .btn-teal {
        background-color: #20c997;
        color: white;
    }

        .btn-teal:hover {
            background-color: #18a383;
        }

    .bg-indigo {
        background-color: #6610f2;
    }

    .btn-indigo {
        background-color: #6610f2;
        color: white;
    }

        .btn-indigo:hover {
            background-color: #520dc2;
        }

    .hover-card {
        transition: transform 0.3s, box-shadow 0.3s;
    }

        .hover-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(0,0,0,0.15);
        }





    .bg-orange {
        background-color: #fd7e14; /* Bootstrap's orange shade */
    }

    .btn-orange {
        background-color: #fd7e14;
        color: white;
    }

        .btn-orange:hover {
            background-color: #e96b0c;
        }

</style>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
